---
export const prerender = true;
import Layout from '../../layouts/Layout.astro';
import Sidebar from '../../components/Sidebar.astro';
import { getCollection } from 'astro:content';

const guides = await getCollection('fx-guides');
---

<Layout title="FXè§£èª¬ä¸€è¦§ - ãƒˆãƒ¬å¤ªã®FXå®Ÿè·µæ—¥è¨˜">
    <div class="main-container container">
        <div class="content-area">
            <h1 class="page-title">FXè§£èª¬è¨˜äº‹ä¸€è¦§</h1>
            <p style="margin-bottom: 2rem;">åˆå¿ƒè€…å‘ã‘ã®FXè§£èª¬ã§ã™ã€‚</p>

            <div class="grid">
                <div class="category-card">
                    <h2>ğŸ”° åŸºç¤çŸ¥è­˜</h2>
                    <p>FXã®ä»•çµ„ã¿ã‹ã‚‰ç”¨èªã¾ã§</p>
                </div>
                <div class="category-card">
                    <h2>ğŸ“ˆ ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«</h2>
                    <p>ãƒãƒ£ãƒ¼ãƒˆåˆ†æã®åŸºç¤</p>
                </div>
                 <div class="category-card">
                    <h2>ğŸ›¡ï¸ ãƒªã‚¹ã‚¯ç®¡ç†</h2>
                    <p>è³‡é‡‘ã‚’å®ˆã‚‹ãŸã‚ã®æŠ€è¡“</p>
                </div>
            </div>
            
            <h2 class="section-title">æ–°ç€è¨˜äº‹</h2>
            <div class="article-list">
                {guides.length > 0 ? (
                    guides.map(guide => (
                        <article class="list-card">
                            <a href={`/learn/${guide.slug}`} class="list-link">
                                <div class="list-icon">ğŸ“</div>
                                <div class="list-content">
                                    <h3>{guide.data.title}</h3>
                                    <p>ã‚«ãƒ†ã‚´ãƒªãƒ¼: {guide.data.category}</p>
                                </div>
                            </a>
                        </article>
                    ))
                ) : (
                    <div class="empty-state">
                        <p>ã¾ã è¨˜äº‹ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
                        {import.meta.env.DEV && <p style="margin-top:10px;"><a href="/keystatic">ç®¡ç†ç”»é¢ã§è¨˜äº‹ã‚’ä½œæˆ</a></p>}
                    </div>
                )}
            </div>
        </div>

        <Sidebar />
    </div>
</Layout>

<style>
    .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 1rem;
    }
    .main-container {
        display: grid;
        grid-template-columns: 1fr 300px;
        gap: 2.5rem;
        margin-top: 3rem;
        margin-bottom: 4rem;
    }
    .page-title {
        font-size: 1.8rem;
        border-bottom: 2px solid var(--c-primary);
        padding-bottom: 0.5rem;
        margin-bottom: 1rem;
    }
    .section-title {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        margin-top: 2rem;
        border-left: 5px solid var(--c-primary);
        padding-left: 1rem;
    }

    /* Category Grid */
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
    .category-card { background: #fff; border: 1px solid var(--c-border); padding: 1.5rem; border-radius: 1rem; text-align: center; }
    .category-card h2 { margin-top: 0; font-size: 1.1rem; margin-bottom: 0.5rem; }
    .category-card p { font-size: 0.9rem; color: var(--c-text-light); margin: 0; }

    /* List Card */
    .article-list { display: flex; flex-direction: column; gap: 1rem; }
    .list-card {
        background: #fff;
        border: 1px solid var(--c-border);
        border-radius: 8px;
        transition: background 0.2s;
    }
    .list-card:hover { background: #f9fafb; }
    .list-link {
        display: flex;
        padding: 1rem;
        color: inherit;
        text-decoration: none !important;
        align-items: center;
        gap: 1rem;
    }
    .list-icon { font-size: 2rem; width: 60px; text-align: center; }
    .list-content h3 { margin: 0 0 0.2rem 0; font-size: 1.1rem; }
    .list-content p { margin: 0; font-size: 0.9rem; color: var(--c-text-light); }

    .empty-state { padding: 3rem; text-align: center; background: var(--c-bg-sub); border-radius: 1rem; color: var(--c-text-light); }

    @media (max-width: 768px) {
        .main-container { grid-template-columns: 1fr; }
        .grid { grid-template-columns: 1fr; }
    }
</style>
